{{ define "main" }}
{{ $about := .Site.Data.about }}

<main class="content-section">

  {{/* Section 1: Hero Section */}}
  {{ with $about.hero }}
  <section class="hero-linear py-20 md:py-28">
    <div class="max-w-6xl mx-auto px-6 md:px-12">
      <div class="max-w-4xl">
        <span class="section-badge section-badge--green mb-6">{{ .badge }}</span>
        <h1 class="linear-headline mb-6 animate-blur-reveal delay-100">{{ .headline }}</h1>
        <p class="linear-subheadline mb-8 animate-blur-reveal delay-200">{{ .subheadline }}</p>

        <div class="flex flex-wrap gap-4 animate-blur-reveal delay-300">
          {{ with .primary_cta }}
          <a href="{{ .url }}" class="btn-linear btn-linear-primary">
            {{ .text }}
          </a>
          {{ end }}
          {{ with .secondary_cta }}
          <a href="{{ .url }}" class="btn-linear btn-linear-secondary">
            {{ .text }}
          </a>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
  {{ end }}

  {{/* Section 2: Our Story (from markdown content) */}}
  {{ with $.Content }}
  <section class="py-16 md:py-24">
    <div class="max-w-5xl mx-auto px-6 md:px-12">
      <span class="section-badge section-badge--blue mb-6">Our Journey</span>
      <h2 class="section-heading mb-6">Who We Are</h2>
      <div class="prose prose-invert max-w-none">
        {{ . }}
      </div>
    </div>
  </section>
  {{ end }}

  {{/* Section 3: Mission & Vision */}}
  {{ with $about.mission_vision }}
  <section class="py-16 md:py-24 bg-[#0d1117]/40">
    <div class="max-w-6xl mx-auto px-6 md:px-12">
      <span class="section-badge section-badge--green mb-6">{{ .section_badge }}</span>
      <h2 class="section-heading mb-12">{{ .section_heading }}</h2>

      {{ partial "components/values-grid.html" (dict "items" .cards) }}
    </div>
  </section>
  {{ end }}

  {{/* Section 4: Core Values */}}
  {{ with $about.values }}
  <section class="py-16 md:py-24">
    <div class="max-w-6xl mx-auto px-6 md:px-12">
      <span class="section-badge section-badge--blue mb-6">{{ .section_badge }}</span>
      <h2 class="section-heading mb-12">{{ .section_heading }}</h2>

      {{ partial "components/values-grid.html" (dict "items" .items) }}
    </div>
  </section>
  {{ end }}

  {{/* Section 5: FAQ (existing component) */}}
  <section class="py-16 md:py-24 bg-[#0d1117]/40">
    <div class="max-w-5xl mx-auto px-6 md:px-12">
      {{ partial "components/faq-accordion.html" . }}
    </div>
  </section>

  {{/* Section 6: Meet the Team Preview */}}
  {{ $teamPreview := $about.team_preview }}
  {{ if $teamPreview }}
  {{ $teamMembers := where $.Site.RegularPages "Section" "eq" "team" }}
  {{ $organizers := where $teamMembers "Params.role" "eq" "organizer" }}
  {{ $limit := $teamPreview.limit | default 4 }}
  {{ $featured := first $limit $organizers }}

  {{ if gt (len $featured) 0 }}
  <section class="py-16 md:py-24">
    <div class="max-w-5xl mx-auto px-6 md:px-12">
      <span class="section-badge section-badge--purple mb-6">{{ $teamPreview.section_badge }}</span>
      <h2 class="section-heading mb-4">{{ $teamPreview.section_heading }}</h2>
      {{ with $teamPreview.section_description }}
      <p class="text-neutral-400 text-lg mb-8">{{ . }}</p>
      {{ end }}

      <div class="team-list space-y-6 mb-8">
        {{ range $featured }}
        {{ partial "components/team-member-card.html" . }}
        {{ end }}
      </div>

      {{ with $teamPreview.cta_link }}
      <div class="text-center">
        <a href="{{ . }}" class="inline-flex items-center gap-2 text-primary-400 hover:text-primary-300 font-medium transition-colors group">
          {{ $teamPreview.cta_text | default "Meet the Full Team" }}
          <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
          </svg>
        </a>
      </div>
      {{ end }}
    </div>
  </section>
  {{ end }}
  {{ end }}

  {{/* Section 7: Get Involved */}}
  {{ with $about.get_involved }}
  <section class="py-16 md:py-24 bg-[#0d1117]/40">
    <div class="max-w-6xl mx-auto px-6 md:px-12">
      <span class="section-badge section-badge--green mb-6">{{ .section_badge }}</span>
      <h2 class="section-heading mb-12">{{ .section_heading }}</h2>

      {{ partial "components/cta-cards.html" (dict "ctas" .ctas) }}
    </div>
  </section>
  {{ end }}

  {{/* Section 8: Collaborators (logo wall) */}}
  <section class="py-16 md:py-20">
    <div class="max-w-6xl mx-auto px-6 md:px-12">
      <p class="logo-wall-label mb-8 text-center">{{ i18n "collaborators_label" }}</p>

      <div class="logo-wall">
        <div class="logo-item">
          <img src="/img/collaborators/ntu-logo.svg" alt="National Taiwan University" class="logo-img">
        </div>
        {{/* Add more collaborators as they become available */}}
      </div>
    </div>
  </section>

</main>
{{ end }}
